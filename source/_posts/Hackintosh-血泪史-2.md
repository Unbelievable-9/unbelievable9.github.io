---
title: Hackintosh-血泪史-2
date: 2018-10-23 09:35:39
tags: Hackintosh
---

## 软件部分
在 **Hackintosh血泪史** 的第一篇文章中, 我们已经耗费了很多精力去选配各种硬件 
接下来就是真刀真枪的 Hackintosh 之旅了
对于 Hackintosh 的软件部分 主要就是两个步骤

- 安装系统
- 相关驱动完善

在 Hackintosh 的世界里 其实把 MacOS 系统装好 只是万事开头的第一步
后续还有很多方面的事情需要操心 举一个简单的例子
苹果官方发布了一个针对 MacOS 的大版本更新 比如最近的 High Sierra 到 Mojave
官方设备只需要 进入 AppStore -> 选择更新 -> 点击确定 -> 等待重启安装 -> 完成!
但对于 Hackintosh 而言 很有可能是这样

- 利用工具 进行全盘备份 把备份放入移动硬盘中
- 更新引导工具 Clover
- 进入 AppStore -> 选择更新 -> 点击确定 -> 等待重启安装
- 无法进入系统 各种尝试都无果
- 进入移动硬盘的备份 恢复备份到硬盘
- 重新进入老版本的系统
- 调查原因 发现是显卡驱动暂时还没有支持到最新版的 MacOS
- 等待...
- 官方宣布新显卡驱动推出
- 重复上述 1-3 操作

可以简单感受下两者的区别 Hackintosh 的世界里 折腾是无处不在的 上面这个例子只是冰山一角
在安装和完善的过程中 你一定会遇到各种各样的问题 而且常常你别如选择 只能重新开始
记得我在第一次 Hack 的时候 经常不知不觉 天就亮了 后知后觉 一天就过去了
无数次的推倒重来 无数次内心吐槽 我去 老子不玩儿了 太特么麻烦了! 😤
但这些都是一定会发生的 每台 Hackintosh 的都是呕心沥血的成果
当它最后完美的摆在你面前时 我相信你会觉得所有过程都是值得的!

### 写在开始之前
在真正开始安装之前 需要做如下几点准备

- 准备一台能运行 MacOS 操作系统的机器 苹果官方设备或者是已有的 Hackintosh 甚至是虚拟机都可以
- 准备一个容量大于等于 16GB 的 U盘

关于第一点 我想多说一下 
在我刚进入 Hackintosh 的世界的时候 我会经常去逛 [远景论坛](http://bbs.pcbeta.com/) 
这个论坛是当时最大的 Hackintosh 中文社区 里面有一些很专业的 Hackintosh 玩家会写指导类的帖子 
但是这个论坛里充斥着太多的小白伸手党 还有很多野路子 土办法
在这里 我第一次遇到了 **xxx懒人版镜像** 以及各种野路子制作安装镜像的办法
当然呢 并不是说这些内容不好 它们也是有效的方式 
但是我希望我写的这篇文章 能给想要折腾 Hackintosh 的朋友们
一个 **系统的** **普适性的** **最有效的** **省去不必要麻烦的** 说明性文档

好 不废话了 我们进入正题

### 镜像制作
在制作镜像之前 我先说明一下我们的安装环境及目标 

- 一块 SSD 专门用来安装 MacOS 系统 我们不会在上面再安装其他操作系统
- 如果你希望安装其他操作系统 最好重新购买一块硬盘
- 本次我们尝试安装 MacOS High Sierra (10.13) 而并不是最新的 Mojave

这样做的原因是为了减少因为 UEFI 引导而产生的不必要的麻烦 
如果实在想在一张硬盘上装多个系统 我可以在将来更新相关的文章

接下来打开我们事先准备好的 运行着 **MacOS** 操作系统的机器 
进入 **AppStore** 下载 **MacOS High Sierra** 
在下载的同时 我们可以去下载后续需要用到的两个工具软件

- [UniBeast 8.3.2](http://www.pc6.com/mac/568963.html)
- [MultiBeast 10.4.0](http://www.pc6.com/mac/135263.html)

这两个工具软件都来自一个国外非常著名的 Hackintosh 论坛 [tonymacx86](https://www.tonymacx86.com)

- **UniBeast** 是自动化制作 U盘 安装镜像的工具
- **MultiBeast** 是在安装完成后 用来完善相关配置的工具

对于这个论坛我想多说一下 近期所有 Hackintosh 的新闻 我基本都是从这里获取的 
但是这个是一个纯英文的论坛 对国人而言在阅读上不太友好 
英文基础不错的玩家 我认为都应该去这里注册一个账号 随时关注 Hackintosh 社区的新闻

当然对于各种制作方式的争论 一直都没有停过 
有的人更喜欢 一步一步自己制作安装镜像
有人的更推崇 **UniBeast** 这样的自动化工具 
在我看来 根据 **最有效的** 原则 使用这个工具是最好的  
在我多次使用后发现 这个工具非常方便和稳定 可以帮我们规避很多不必要的麻烦 
与此同时 在另一个角度让我们可以更专注的去解决系统安装完成后的各种问题

好了 需要准备的东西已经介绍的差不多了 当我们都把这些东西都下载好之后 请按照如下方式进行操作

- 临时设置系统语言为英文
    制作U盘安装镜像时 需要用到英文语言环境 我们先进行这一步设置
    - 打开 **系统偏好设置** -> 进入 **语言与地区** -> 修改首选语言为 **英文** —> **重启**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-10.png "修改系统语言为英文")

- 格式化 U盘
    在 MacOS 中格式化 U盘 需要用到系统自带的 **Disk Utility (磁盘工具)** 
    具体方式如下
    
    - 打开 **Disk Utility** (可以利用右上角放大镜 🔍 进行查找) -> 在左侧找到U盘
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-7.png "磁盘工具")

    - 选中U盘后点击 **Erase (抹掉)** -> 请按照下进行设置 —> 完成设置后单击 **Erase**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-8.png "抹掉")

    - 抹掉成功过会有如下图提示 点击 **Done** 完成U盘准备工作
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-9.png "抹掉U盘成功")

- 利用 UniBeast 制作安装U盘
    注意 如果系统目前不是英文语言环境 那么是无法打开 UniBeast 的 请再次确认系统语言环境
    
    - 打开 UniBeast -> 一路 **Contiune** -> 选中之前准备好的 **U盘** (如下图) -> **Continue**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-11.png "目标介质选择")

    - 选择启动方式 -> 选择 **UEFI Boot Mode** -> **Continue**
        关于这里我想多说一下关于启动方式的问题 这个选项主要取决于你的主板
        目前最新的主板是300系列 匹配的8代 Intel CPU 
        相应的还有 200/100/9/8/7/6/5 等系列的主板 每一个系列的主板匹配的 CPU 也不同
        总体来说 从7系列开始及以后的主板 都推荐使用 **UEFI Boot Mode** 模式
        这也是现在大多数设备采用的启动模式 苹果是最早开始使用这种模式的厂商
        低于7系列的主板 比如老的 6/5 系列的主板则推荐使用 **Legacy Boot Mode** 模式
        但是现在已经2018年了 如果你手里还在使用 6/5 甚至更早系列的主板和对应的 CPU
        我的建议是 整体升级下主板和 CPU 以获得更好的体验

    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-12.png "启动方式选择")

    - 显卡驱动设置 -> 不勾选 -> **Continue**
        这部分主要针对一些 **NVIDIA** 和 **AMD** 的老显卡进行简单的驱动
        被支持的老显卡型号可以在下图中看到 如果你是根据我的推荐选择的 **AMD Radeon** 新显卡
        或者是 **NVIDIA** 系列的新显卡 这里都不需要选中 

    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-15.jpg "显卡驱动选择")
    
    - 安装选项验证 -> 参考下图 至少有下面三个图标 -> **Continue**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-13.png "安装选项验证")
        
    - 制作安装U盘
        这里 UniBeast 就开始制作系统安装U盘了
        官方说明中提到 这个过程大概需要 **10分钟** 左右
        但在我多次实践中 这个时间跟制作时所使用的机器有很大的关系
        比如你使用的是一台2010年以前的 Macbook Pro 那可能需要接近 **20分钟** 的样子
        总之这一步需要的 就是耐心 新鲜的系统安装U盘马上就要出炉了 🔥

    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-14.png "安装U盘制作")
        
### 安装系统
系统安装U盘制作好之后 接下来就是安装了 在安装之前最重要的就是对主板进行设置
因为主板制造厂商的 BIOS 各式各样 在这篇文章里 也无法对每一种 BIOS 的设置进行说明
这里我也就借鉴 **tonymacx86** 官方的指导 并配合我的实际经历进行说明

- 无论什么主板 首先读取主板默认设置 英文关字为 **Load Optimized Defaults**
- 如果你选配的 Intel CPU 支持虚拟化技术 请在主板中禁用 英文关键字为 **VT-d**
- 如果你选配的主板中有 **CFG-Lock** 相关设置 请禁用
- 如果你选配的主板中有 **安全引导模式** 相关设置 请禁用 英文关键字为 **Secure Boot Mode**
- 如果你选配的主板中有 **IO串口** 相关设置 请禁用 英文关键字为 **IO Serial Port**
- 如果你选配了 **独立显卡** 请在主板的设置中禁用 **集成显卡**
- 在选配的主板中设置 **操作系统类型** 为 **其他操作系统** 英文关键字为 **OS Type** 设置为 **Other OS**
- 在选配的主板中设置 **USB接口设置** 为由操作系统驱动 英文关键字为 **XHCI Handoff** 设置为 **Enabled**
- 在选配的主板中设置 **硬盘模式** 为 **AHCI** 英文关键字为 **SATA Mode**
- 在选配的主板中设置启动顺序 **将U盘启动放在第一位**

CPU 是否支持虚拟化技术 可以去 [Intel 官网](https://ark.intel.com/) 查询 大部分主流的 Intel CPU 都支持
对于上述几点设置 如果你选配的主板里 并没有找到对应的设置 直接忽略即可 设置好主板后切记保存
接下来要做的就是插上之前烧好的 **系统安装U盘** 并启动主机 
一切顺利的话 你会看到一个类似下图的引导界面

![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-16.png "Clover 引导界面")

如果你的机器里有其他分区 也会显示这里 在安装时 我们需要选则

- 有 **External** 标识的分区
- 且名称为 **Boot OS X Install from Install macOS High Sierra**

单机回车即开始进入系统安装界面 这部分我想多说几句
在这一步的时候 很有可能你尝试多次都进不去安装界面 
这时候可以利用 Clover 引导中的调试模式去启动 并查看错误信息
**Clover** 目前在 Hackintosh 世界里是最为流行的 **系统引导工具** 
一台完美的 Hackintosh 机器 Clover 是必不可少的工具
在这篇文章中 我就不过多的去讨论 Clover 相关的内容 
在这里就简单介绍下 如何利用 Clover 的调试模式 去打印日志信息并查找错误

- 重启机器进入 Clover 引导界面
- 选中系统安装分区 单击 **空格键**
- 在出现的选项中 勾选 **verbose**
- 再尝试启动

使用调试模式启动时 显示器上会打印很多日志信息 可以根据打印的日志去寻找错误信息
因为在这一步时 会出现各种各样的错误信息 篇幅所限 我也无法一一把错误列举出来 
如果你是按照我的推荐选择的硬件设备 并且设置都正确的话 大概率是可以顺利进入安装界面的

但是在其他情况 比如将来的系统升级时 肯定都会遇到无法启动的问题 这就需要去揪出错误信息了
对于玩儿 Hackintosh 来说 应该是一项必备的技能 在这里我就不多讲了
有时间的话 我会写一篇类似 **Clover 简易使用指南** 这样的文章去介绍这些技能 
如果你实在觉得无法解决 可以尝试给我发邮件 我会尽可能热心的提供帮助

好 假如你现在非常幸运的进入了安装界面 那么恭喜你 你的半只脚已经踏入了 Hackintosh 的世界
接线来就是把系统安装到机器的硬盘中 分别有下面一些步骤 比较容易

- 根据喜好选择系统语言 下面以 **英文** 为例
- 选择 **Disk Utility (磁盘工具)**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-17.png "磁盘工具")
- 在左侧找到 **你机器中的硬盘** 注意 **不是安装用的U盘** 点击 **Erase (抹掉)** 
- 按下图中进行设置 **Name** 推荐填写 **Macintosh HD** 然后 **Erase (抹掉)** 
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-18.png "格式化设置")
- 完成后单击左上角 **Disk Utility (磁盘工具)** 选择 **退出**

现在我们用来安装系统的硬盘 已经准备好了 接下来就是正式安装系统了
回到最开始进入的页面 

- 选择 **Reinstall macOS (重新安装 macOS)**
- 一路 **Agree** 直到选择安装磁盘部分 
- 切记选择 **你机器中的分区** 如果你按照我的推荐 它应该叫 **Macintosh HD**
- 继续下一步 

这时系统安装工作正式开始 你可以泡杯茶 抽根烟 耐心等待安装进行 🍵 

### 安装后完善工作
系统安装完成后会自动重启机器 这时候还是需要通过U盘启动进入到 Clover 引导页面
不同的是 这时候你应该会看到一个

- 名为 **Boot OS X from Macintosh HD** 的分区
- 同时该分区的标识应该为 **Internal**

这时候直接回车进入系统 如果你完全按照我的推荐进行操作 你大概率能成功进入系统
和进入系统安装界面时一样 在这一步 你也很有可能会无法进入系统
不要惊慌 不要失措 尝试去用之前调试启动的方法 去网络上查找错误的解决办法
还是那句话 如果实在让你很头疼 你可以通过邮件联系我

在进行一些简单的设置后 你最终会看到久违的 MacOS High Sierra 桌面 
欢迎进入的 Hackintosh 的世界 💥 

到这里的时候 你可以到处点点 暗中观察一下 可以先从这些方面开始

- 先检查一下 **WiFi** **蓝牙** 功能 是否正常
- 如果你使用的是 **NVDIA** 较新款的显卡 你应该会发现电脑特别卡 桌面刷新会有严重问题
- 如果你使用的是我推荐的 **AMD Radeon** 较新款的显卡 你应该会发现一切都无比丝滑
- 插上鼠标 键盘试试 看看各个 USB 口是否都工作正常
- 插上耳机试试 看看声卡是否正常工作 大概率不正常
- 插上网线试试网口是否正常工作

检查完上述几个项目之后 我相信应该或多或少都会有一些问题 这时候就到了完善 Hackintosh 的时候了
首先需要找出之前准备好的 **MultiBeast** 工具 利用U盘或其他办法把它拷贝到新系统中

在进行完善之前 我想解释下目前的状况
在前面我提到过 一台完美的 Hackintosh 一定会用到 Clover 这个系统引导工具
那我们目前是什么样的呢? 

其实我们是利用 **UniBeast** 为我们做好的系统安装U盘里的 Clover 进行引导 然后顺利进入了安装在机器硬盘中的系统

想象一下 如果我们重启计算机 拔掉了U盘 那这时候 Clover 消失了 系统也没法进入了 怎么办 🤣
是不是可以在机器中的硬盘上也安装上 Clover 这样就可以彻底脱离U盘独立引导了?
答案是肯定的! **MultiBeast** 就可以帮我们完成这件事情!

其次因为 **MacOS** 系统的对 USB 接口数量有限制 在安装完成后很有可能主机的有些 USB 接口无法使用
是不是很难受 比如你主机正前方的 USB 3.0 接口不能用 是不是很心碎 💔
没关系 **MultiBeast** 可以帮你解决这个问题!

再有就是声卡的问题 全新安装之后 因为 **MacOS** 系统只支持很少一部分的声卡 大概率你的声卡不被原生支持
那这个时候 你有一个特别牛逼的耳机 想插上试试它在 Hackintosh 下的表现如何
但是当你插上之后 什么声音都没有 是不是很苦恼 是不是再次心碎 💔
没关系 还是**MultiBeast** 它你能拯救你!
找到之前记录的主板型号 并查询对应的板载声卡型号 在 **MutilBeast** 里有会有它的救命稻草

另外针对 **NVIDIA** 系列的新显卡 在第一次进入系统后 所有图形界面相关的内容 都会无比卡顿
比如你花了大价钱买了一块牛逼的 1080TI 结果...结果... 居然能给我卡成这个鸟样？
你是不是彻底崩溃了 心碎了 不爱了 💔
没关系 **MultiBeast** 也可以稍微拉你一把 但是靠它还不够!

是不是心里又咯噔了一下? 好了 我觉得我就不继续演了 办法是有的 我会在最后说明这个问题 😎

说了这么多 这个 **MultiBeast** 这么牛逼 那就打开试试
其实我个人感觉 这个东西就类似于 Hackintosh 世界里的 **简易版驱动精灵**
![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-19.png "Hackintosh 版驱动精灵")

首先点击左上方的 **Quick Start** 开始进行完善工作

- 选择启动引导模式
    在这里其实就是告诉 **MultiBeast** 要安装什么类型的 Clover 引导 以及使用哪些默认选型
    这里我们选择 **UEFI Boot Mode**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-20.png "启动引导选择")

- 选择上方的 **Driver**
    可以看到 这里有针对 **声卡** **硬盘** **有线网口** **USB接口** 以及 **其他** 内容的相关完善
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-21.png "驱动完善")
    - **Audio**
        大部分声卡可以在 **Realtek ALCxxx** 下面找到 请勾选你的型号
        如果在列表中没有你的型号 你可以尝试在 **Universal** 里勾选 **VoodooHDA** 较新版本的声卡通用驱动
    - **Disk**
        这部分的内容基本不需要 除非你用的是非主流的硬盘
    - **Misc**
        这里面最重要的是请确保选中 **FakeSMC** 这是一个生产苹果设备信息的工具 其他内容暂时不用
    - **Network**
        如果你的有线网口无法使用 可以在这里寻找到对应的驱动 请找到你的有线网卡型号并勾选
    - **USB**
        如果你的USB接口有部分不能使用 可以尝试勾选 **Remove XHCI USB Port Limit**

- 选择上方的 **Bootloader**
    确认选中的是 **Clover UEFI Boot Mode**

- 选择上方的 **Customize**
    这部分里有一些重要的完善选项
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-22.png "其他完善选项")
    
    - **Graphics Configuration**
        如果你使用 **Intel HD6xx** 的 **集成显卡** 可以勾选 **Intel HD 6xx**
        如果你使用的是 **ATI Radeon 4xxx** 的老版显卡 可以勾选 **Inject ATI**
        如果你使用的是 **NVIDIA** 系列早于 **GT630** 的一些显卡 可以勾选**Inject NVIDIA**
        如果你使用的是 **NVIDIA** 系列 **GTX 7xx** 之后的显卡 请勾选 **NVDIA WebDrivers Boot Flag**
        如果你使用的是 **AMD Radeon** 较新系列的显卡 例如本文推荐的 **RX 560** 什么都不用选 免驱!
    - **SSDT Options**
        这部分是针对 **Sandy Bridge** 架构的 Intel CPU(酷睿2代) 的一些补充 SSDT 文件
        如果使用的不是这个架构的 请忽略
    - **System Definitions**
        这部分内容比较重要 一台 Hackintosh 设备一定会对应某一个苹果官方设备
        在这里 你需要根据自己机器的配置 去找到配置最为接近的苹果官方设备
        查询苹果官方配置的详细时 我推荐去 [everymac](https://everymac.com) 这个网站查询 
        比如对于我在前面给出的推荐配置 最接近的配置应该是 **iMac 18,3**
        找到最接近的机型 选中即可

- 最后选择上方的 **Build**
    在这里会显示 所有你需要的完善内容 注意右侧一定要选择 **自己机器内部的磁盘分区**
    确认无误后 请点击又下角 **Install**
    ![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-23.png "确认并安装")
    
到这里 **MultiBeast** 的使命已经结束 可以关闭机器 拔掉U盘 尝试进入系统吧
对于 **NVIDIA** 新版显卡的用户 还需要安装第三方驱动 请继续阅读 🧐

### NVIDIA 显卡单独说明
由于 **苹果** 和 **英伟达** 这两个公司的关系 N卡在 MacOS 上的表现很大程度上 依赖于英伟达自身开发的驱动
所以在每一次 **MacOS** 系统更新的时候 N卡的用户都只能焦急的等待英伟达同步升级驱动
这也是为什么我写这篇文章的时候 没有选择最新的 **MacOS Majove** 作为目标版本
为什么呢? 就是因为英伟达针对最新版本 MacOS 的驱动还没有更新 😑

好了 简单介绍一下背景之后 我就直接提供一下获取驱动的途径吧
通常我是通过关注 [N卡驱动列表](https://www.tonymacx86.com/nvidia-drivers/) 这里 来查看最新的驱动
在选择驱动时需要注意一点 **驱动对应的系统版本号 要与你使用的系统版本号完全相同**
比如现在最新的 MacOS High Sierra 版本号是 **10.13.6** 那么对应的N卡驱动就应该是 **387.10.10.10.40.105**

之后安装驱动 我这里就不必多说了 安装好后重启系统 丝滑的体验正在等着你 ✌️

## 最后
不知不觉写了一篇这么长的 Hackintosh 文章 感慨良多

在书写的过程中 多次想起那些 大二大三的深夜 对着自己的非主流笔记本 一坐就是一天的日子
最后那台笔记本也没有变成一台成功的 Hackintosh Laptop 反倒是因为电源管理 和 CPU 变频的问题
最终 **英勇就义** 我连它那被烧掉的心脏都没有找回来 想想还是一阵唏嘘 😤

工作以后 第一次用自己的年终奖 攒了一台心仪的主机 硬件选配2个月 Hack 及完善前后1一个月
这台机器陪伴我从成都到北京 北京又到深圳 已经像一个老友一样离不开了

很多人都会问 你认真存几个月钱 买台高配的 Macbook Pro 就完了 干嘛费这么大劲去鼓捣黑苹果
而且还不是那么稳定 更新又麻烦 能不能专注到软件开发本身上!

其实呢 我回答不了这个问题 面对着顶配的 Macbook Pro 2018 无论是13寸 还是15寸 谁不会心动呢
但是不管它再好 我还是觉得 一起陪我走过这些日日夜夜的 **圈羊一号机** 更可爱~
![](http://pgme12bh2.bkt.clouddn.com/Hackintosh-1-24.JPG "圈羊一号机")